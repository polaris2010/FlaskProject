<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Автокредит</title>
    <link rel="icon" href="/static/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="/static/css/app.css"> <!-- Подключение внешнего CSS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/static/js/scripts.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="banner">Добро пожаловать в систему автокредитования!</div> <!-- Баннер -->

    <div class="container"> <!-- Контейнер для боксов -->
        <!-- Форма для проверки должника -->
<div class="form-box">
    <h2>Данные заемщика</h2>
    <form id="loanForm">
        <label for="fio">Фамилия</label>
        <input type="text" id="fio" name="fio" placeholder="Введите фамилию">

        <label for="birth_date">Дата рождения</label>
        <input type="text" id="birth_date" name="birth_date" maxlength="10" placeholder="ДД.ММ.ГГГГ" title="Введите дату в формате ДД.ММ.ГГГГ">

        <label for="passport">Паспорт</label>
        <input type="text" id="passport" name="passport" maxlength="11" placeholder="00 00 000000" title="Введите паспорт в формате 00 00 000000">

        <button type="button" id="checkDebtor">Проверить должника</button>
        <div id="resultMessage"></div>
    </form>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const fioInput = document.getElementById('fio');
    const passportInput = document.getElementById('passport');
    const birthDateInput = document.getElementById('birth_date');

    // Обработка поля "Фамилия"
    fioInput.addEventListener('input', function() {
        this.value = this.value.replace(/^[а-яё]/, function(match) {
            return match.toUpperCase();
        });
    });

    // Обработка поля "Паспорт"
    passportInput.addEventListener('input', function() {
        let value = this.value.replace(/\D/g, ''); // Удаляем все нецифровые символы
        if (value.length > 4) {
            value = value.slice(0, 2) + ' ' + value.slice(2, 4) + ' ' + value.slice(4);
        } else if (value.length > 2) {
            value = value.slice(0, 2) + ' ' + value.slice(2);
        }
        this.value = value;
    });

    // Обработка поля "Дата рождения"
    birthDateInput.addEventListener('input', function() {
        let value = this.value.replace(/\D/g, ''); // Удаляем все нецифровые символы
        if (value.length > 4) {
            value = value.slice(0, 2) + '.' + value.slice(2, 4) + '.' + value.slice(4, 8);
        } else if (value.length > 2) {
            value = value.slice(0, 2) + '.' + value.slice(2);
        }
        this.value = value;
    });
});
</script>

        <!-- Форма для расчета стоимости авто -->
        <div class="form-box">
            <h2>Стоимость авто</h2>
            <form id="calculatePriceForm">
                <label for="brand">Бренд</label>
                <select id="brand" name="brand">
                    <option value="Toyota">Toyota</option>
                </select>

                <label for="model">Модель</label>
                <select id="model" name="model">
                    <option value="Corolla">Corolla</option>
                    <option value="Camry">Camry</option>
                    <option value="Land Cruiser Prado">Land Cruiser Prado</option>
                    <option value="Land Cruiser">Land Cruiser</option>
                </select>

                <label for="year">Год</label>
                <select id="year" name="year">
                    <option value="2006">2006</option>
                    <option value="2020">2020</option>
                </select>

                <label for="car_price">Стоимость авто:</label>
                <input type="text" id="car_price" name="car_price" placeholder="Стоимость авто" readonly>

                <button type="button" id="calculatePrice">Рассчитать стоимость авто</button>
            </form>
        </div>

        <!-- Форма для кредита -->
<div class="form-box">
    <h2>Данные по кредиту</h2>
    <form id="CreditForm">

        <label for="credit_sum">Сумма кредита (60% от стоимости авто)</label>
        <input type="number" id="credit_sum" name="credit_sum" placeholder="Сумма кредита" step="0.01" readonly>

        <label for="interest_rate">Процент</label>
        <input type="number" id="interest_rate" name="interest_rate" placeholder="Процент" step="0.01" required>

        <label for="time_credit">Срок кредита (в месяцах)</label>
        <input type="number" id="time_credit" name="time_credit" placeholder="Срок кредита" required>

        <label for="return_amount">К возврату</label>
        <input type="number" id="return_amount" name="credit_over" placeholder="К возврату" step="0.01" readonly>

        <label for="date_over">Дата возврата</label>
        <input type="date" id="date_over" name="date_over" readonly>

        <button type="button" id="Ok_credit">Рассчитать кредит</button>
        <div id="resultMessage"></div>

        <button type="button" id="Make_credit">Оформить кредит</button>
    </form>
</div>
    </div>

    <script src="/static/js/scripts.js"></script>
</body>
</html>